Test Group(s): #Deployment

Variables in deployment descriptor âŠ‚ Keyword names in template file

An exception should be raised when not all keyword names from the template
can be filled from the secrets provider.
--------------------------------------------------------------------------------

>>> import sys, pathlib, os
>>> import run, provider as prvd, descriptor as dscr

>>> # absolute filepath to ${PWD}/tests/config/example.conf
>>> filepath = os.path.join(pathlib.Path().parent.absolute(), 'tests', 'config', 'example.conf')
>>> # JSON decoding needs four backward slashes
>>> filepath = filepath.replace('\\', '\\\\')

>>> os.environ[dscr.EnvironLoader.SOURCE_ENV_VAR] = \
...     '{"config": "' + filepath + '", "templatize": false}'

>>> config = run.deploy(dry_run=True)
Traceback (most recent call last):
    ...
ValueError: Referenced template keyword 'PASSWORD' not available from secrets provider EnvironProvider.
